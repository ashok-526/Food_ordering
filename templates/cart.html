{% extends 'base.html' %}

{% block start %}

<script src="https://cdn.tailwindcss.com"></script>

<div class="container mt-5">
  <h2 class="text-3xl font-semibold mb-4 text-center">Your Cart</h2>
  
  <table class="table table-striped table-hover table-bordered">
    <thead class="table-dark">
      <tr>
        <th scope="col">S.N</th>
        <th scope="col">Product</th>
        <th scope="col">Product Name</th>
        <th scope="col">Price</th>
        <th scope="col">Quantity</th>
        <th scope="col">Total</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody class="table-group-divider">
      {% for cart in carts.food_items.all %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>
          <img src="/static/{{ cart.pizza_reference.image }}" class="img-thumbnail" style="height: 120px; width: 180px;" alt="Product Image">
        </td>
        <td>{{ cart.pizza_reference.pizza_name }}</td>
        <td>${{ cart.pizza_reference.price }}</td>
        <td>1</td>
        <td>${{ cart.pizza_reference.price }}</td>
        <td>
          <a href="{% url 'remove_item' cart.uid %}" class="btn btn-danger btn-sm">
            <i class="fa-solid fa-trash"></i> Delete
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="d-flex justify-content-end align-items-center mt-4">
    <h3 class="text-2xl font-bold me-5">Grand Total: ${{ total }}</h3>
    <a href="{% url 'order_info' %}" class="btn btn-outline-primary text-lg">
      Proceed to Payment <i class="fa-solid fa-arrow-right"></i>
    </a>
  </div>
</div>

{% endblock %}
